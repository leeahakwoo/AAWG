@startuml AAWGA Deployment Diagram

!theme plain
skinparam nodeFontSize 10
skinparam nodeFontName Arial

package "Development Environment" {
    node "Developer Machine" {
        [Streamlit App] as streamlit_dev
        [FastAPI Server] as fastapi_dev
        [Python Environment] as python_dev
    }
}

package "Production Environment" {
    node "Streamlit Cloud" {
        [Streamlit App] as streamlit_prod
    }
    
    node "Docker Container" {
        [FastAPI Server] as fastapi_prod
        [Python Runtime] as python_prod
    }
    
    node "External Services" {
        [OpenAI API] as openai
        [FAISS Vector DB] as faiss
    }
}

package "CI/CD Pipeline" {
    node "GitHub" {
        [Source Code] as github
    }
    
    node "Docker Hub" {
        [Docker Image] as docker_image
    }
    
    node "Streamlit Cloud" {
        [Auto Deploy] as auto_deploy
    }
}

' Development connections
streamlit_dev --> fastapi_dev : HTTP requests
fastapi_dev --> python_dev : runs on
python_dev --> openai : API calls
python_dev --> faiss : vector operations

' Production connections
streamlit_prod --> fastapi_prod : HTTP requests
fastapi_prod --> python_prod : runs on
python_prod --> openai : API calls
python_prod --> faiss : vector operations

' CI/CD connections
github --> docker_image : builds
github --> auto_deploy : triggers
docker_image --> fastapi_prod : deploys

' Environment variables
note right of fastapi_prod
  Environment Variables:
  - OPENAI_API_KEY
  - USE_DUMMY_AGENT
  - API_URL
end note

note right of streamlit_prod
  Streamlit Secrets:
  - api_url
  - openai_api_key
end note

@enduml 